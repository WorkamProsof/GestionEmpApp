<ion-header class="ion-no-border">
	<ion-toolbar color="ligth">
		<ion-title color="dark" class="ion-text-center">Agregar Residencia</ion-title>
		<ion-buttons slot="end" (click)="cerrarModal()">
			<ion-icon color="dark" slot='icon-only' size='large' name='close-outline'>
			</ion-icon>
		</ion-buttons>
	</ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

	<form [formGroup]="datosResidencia.formulario">
		<ion-list lines="full">

			<app-select-autogestion (valorSelect)="cambiosComponenteSelect($event, 'paisid','LugarResidencia')"
				[cambiovalor]="cambiovalor" [lista]="paisnacido" [formulario]="datosResidencia.formulario"
				valueField="paisid" formControlSelect="paisid" textField="nombre" title="Pais">
			</app-select-autogestion>

			<app-select-autogestion (valorSelect)="cambiosComponenteSelect($event, 'dptoid','LugarResidencia')"
				[cambiovalor]="cambiovalor" [lista]="dptoResidencia" [formulario]="datosResidencia.formulario"
				valueField="dptoid" formControlSelect="dptoid" textField="nombre" title="Departamento">
			</app-select-autogestion>

			<app-select-autogestion (valorSelect)="cambiosComponenteSelect($event, 'ciudadid','LugarResidencia')"
				[cambiovalor]="cambiovalor" [lista]="ciudadResidencia" [formulario]="datosResidencia.formulario"
				valueField="ciudadid" formControlSelect="ciudadid" textField="nombre" title="Ciudad">
			</app-select-autogestion>

			<ion-item>
				<ion-label position="floating" color="dark">Direcci√≥n</ion-label>
				<ion-input formControlName="direccion" color="dark" type="text"></ion-input>
				<ion-text class="animate__animated animate__bounceIn animate__faster"
					*ngIf="datosResidencia.formulario.get('direccion').touched" color="danger">{{
					datosResidencia.formulario.get('direccion')['errorMessage'] }}</ion-text>
			</ion-item>

			<ion-item>
				<ion-label position="floating" color="dark">Residencia Principal</ion-label>
				<ion-select formControlName="principal" okText="Aceptar" cancelText="Cancelar"
					[interfaceOptions]="{cssClass: 'modal-color'}" placeholder="Selecciona principal">
					<ion-select-option color="dark" *ngFor="let item of ppal;" [value]="item.valor">{{
						item.titulo }}
					</ion-select-option>
				</ion-select>
				<ion-text class="animate__animated animate__bounceIn animate__faster"
					*ngIf="datosResidencia.formulario.get('principal').touched" color="danger">{{
					datosResidencia.formulario.get('principal')['errorMessage'] }}</ion-text>
			</ion-item>
		</ion-list>
	</form>

</ion-content>

<ion-footer>
	<ion-toolbar>
		<ion-title>
			<ion-button [disabled]="datosResidencia.formulario.invalid" type="button" class="ion-no-margin"
				shape="round" expand="full" (click)="submitDataFamiliaContacto('LugarResidencia')">
				Agregar
				<ion-icon slot="start" name="save-outline"></ion-icon>
			</ion-button>
		</ion-title>
	</ion-toolbar>
</ion-footer>